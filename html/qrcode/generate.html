<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title>Generate QR Code</title>
    <link rel="stylesheet" href="../../css/theme.css"/>
    <link rel="stylesheet" href="main.css"/>
    <style>
        #qrcode canvas {display: none;}
    </style>
</head>
<body>
    <table>
        <tr><td colspan="2"><textarea id="url" placeholder="input string here"></textarea></td></tr>
        <tr>
            <td style="vertical-align: top;">
                <button type="button" onclick="generate()">Generate</button>
                correctLevel: <select id="correctLevel">
                    <option value="L">L</option>
                    <option value="M">M</option>
                    <option value="H">H</option>
                    <option value="Q" selected>Q</option>
                </select>            
            </td>
            <td><div id="qrcode"></div></td>
        </tr>
    </table>
    <script src="https://resource-8fp.pages.dev/js/qrcode/en/qrcode.min.js"></script>
    <script>
        function generate() {
            let width = Math.min(window.innerHeight*0.9, window.innerWidth*0.9, 600).toFixed()*1;
            document.getElementById("qrcode").innerHTML = '';
            const qrcode = new QRCode(document.getElementById("qrcode"), {
                width: width,
                height: width,
                colorDark : "#000000",
                colorLight : "#ffffff",
                // version: 10,
                correctLevel : QRCode.CorrectLevel[document.getElementById('correctLevel').value],
            });
            qrcode.makeCode(document.getElementById('url').value);
        }
    </script>
</body>
</html>